<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Option 3: Container-Relative Scaling</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        :root {
            --primary-red: #D72638;
            --jet-black: #000000;
            --bright-white: #FFFFFF;
        }
        
        body {
            font-family: Arial, sans-serif;
            background: var(--bright-white);
            color: var(--jet-black);
        }
        
        .hero-section {
            background: var(--bright-white);
            height: 100vh;
            position: relative;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .robot-container {
            position: relative;
            width: 100%;
            height: 100%;
            max-width: 1200px;
            margin: 0 auto;
            /* Enable container queries */
            container-type: inline-size;
        }
        
        .parallax-layer {
            position: absolute;
            top: 62.5%;
            left: 50%;
            transform: translate(-50%, -50%);
            will-change: transform;
        }
        
        /* OPTION 3: CONTAINER-RELATIVE SCALING */
        .title-image {
            z-index: 20;
            width: min(85vw, 85cqw);
            max-width: 1200px;
            min-width: 300px;
            top: 22.5%;
        }
        
        .robot-image {
            z-index: 5;
            width: min(70vw, 60cqw);
            opacity: 1;
        }
        
        /* Animated Icons - Container Relative */
        .corn-container {
            position: absolute;
            top: 5%;
            right: 7%;
            z-index: 30;
        }
        
        .lightbulb-container {
            position: absolute;
            top: 5%;
            left: 3%;
            z-index: 15;
        }
        
        .exclamation-container {
            position: absolute;
            top: 30.625%;
            right: 10%;
            z-index: 25;
        }
        
        .smiley-container {
            position: absolute;
            top: 22.5%;
            right: 7%;
            z-index: 15;
        }
        
        /* Container Query Scaling */
        .corn-image, .lightbulb-image, .exclamation-image, .smiley-image {
            width: 20cqw; /* 20% of container width */
            max-width: 500px;
            min-width: 120px;
            aspect-ratio: 1;
            image-rendering: pixelated;
        }
        
        /* Fallback for browsers without container query support */
        @supports not (width: 1cqw) {
            .corn-image, .lightbulb-image, .exclamation-image, .smiley-image {
                width: clamp(120px, 20vw, 500px);
            }
        }
        
        /* Container Queries for responsive behavior */
        @container (max-width: 800px) {
            .corn-image, .lightbulb-image, .exclamation-image, .smiley-image {
                width: 25cqw;
                max-width: 300px;
            }
            
            .corn-container { right: 5%; }
            .lightbulb-container { left: 2%; }
            .exclamation-container { right: 8%; }
            .smiley-container { right: 5%; }
        }
        
        @container (max-width: 500px) {
            .corn-image, .lightbulb-image, .exclamation-image, .smiley-image {
                width: 30cqw;
                max-width: 200px;
            }
            
            .corn-container { 
                top: 8%; 
                right: 3%; 
            }
            .lightbulb-container { 
                top: 8%; 
                left: 1%; 
            }
        }
        
        /* Demo placeholder images */
        .demo-icon {
            background: linear-gradient(45deg, var(--primary-red), #ff6b7a);
            border-radius: 8px;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            font-size: clamp(1rem, 3cqw, 2rem);
        }
        
        .info-panel {
            position: fixed;
            top: 20px;
            left: 20px;
            background: rgba(0,0,0,0.8);
            color: white;
            padding: 15px;
            border-radius: 8px;
            font-size: 14px;
            z-index: 100;
            max-width: 320px;
        }
        
        .container-indicator {
            position: fixed;
            bottom: 20px;
            right: 20px;
            background: var(--primary-red);
            color: white;
            padding: 10px;
            border-radius: 4px;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="info-panel">
        <h3>Option 3: Container-Relative Scaling</h3>
        <p><strong>Pattern:</strong> Container queries + percentage widths</p>
        <p><strong>Icons scale:</strong> 20% of container width</p>
        <p><strong>Benefits:</strong> Future-proof, element-based</p>
        <p><strong>Fallback:</strong> clamp() for unsupported browsers</p>
    </div>
    
    <div class="container-indicator" id="containerSize">
        Container: <span id="containerWidth"></span>
    </div>
    
    <section class="hero-section">
        <div class="robot-container" id="robotContainer">
            <img src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 400 100'><rect width='100%' height='100%' fill='%23D72638'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' fill='white' font-size='24' font-weight='bold'>TITLE</text></svg>" alt="Title" class="parallax-layer title-image">
            
            <img src="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 300 400'><rect width='100%' height='100%' fill='%23666'/><text x='50%' y='50%' dominant-baseline='middle' text-anchor='middle' fill='white' font-size='20' font-weight='bold'>ROBOT</text></svg>" alt="Robot" class="parallax-layer robot-image">
            
            <div class="corn-container">
                <div class="corn-image demo-icon">üåΩ</div>
            </div>
            
            <div class="lightbulb-container">
                <div class="lightbulb-image demo-icon">üí°</div>
            </div>
            
            <div class="exclamation-container">
                <div class="exclamation-image demo-icon">‚ùó</div>
            </div>
            
            <div class="smiley-container">
                <div class="smiley-image demo-icon">üòä</div>
            </div>
        </div>
    </section>
    
    <script>
        function updateContainerSize() {
            const container = document.getElementById('robotContainer');
            const width = container.offsetWidth;
            document.getElementById('containerWidth').textContent = `${width}px`;
        }
        
        window.addEventListener('resize', updateContainerSize);
        updateContainerSize();
    </script>
</body>
</html>